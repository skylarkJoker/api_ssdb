(this.webpackJsonpreact_ssdb=this.webpackJsonpreact_ssdb||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/file.c1ed482c.svg"},25:function(e,t,a){e.exports=a.p+"static/media/ssdb.be6e6a3a.svg"},26:function(e,t,a){e.exports=a.p+"static/media/menu.24e6ce03.svg"},27:function(e,t,a){e.exports=a.p+"static/media/back_white.fbff8f05.svg"},28:function(e,t,a){e.exports=a.p+"static/media/back.48ca8b50.svg"},32:function(e,t,a){e.exports=a(43)},37:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(23),r=a.n(l),c=(a(37),a(19)),i=(a(38),a(12)),m=a(3),o=a(4),d=a(6),u=a(5),p=a(7),h=a(24),b=a(25),f=a.n(b),E=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){Object(h.a)("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state),credentials:"include"}).then((function(e){200===e.status?a.props.history.push("/classinfo"):422===e.status&&alert("Incorrect username or password")})),e.preventDefault()},a.state={username:"",password:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"login-page container"},s.a.createElement("form",{className:"form-grid"},s.a.createElement("img",{className:"logo",src:f.a,alt:"ssdb logo"}),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{onChange:this.handleChange,name:"username",className:"floating-label-field",placeholder:"Username",type:"text"}),s.a.createElement("label",{htmlFor:"username",className:"floating-label"},"Username")),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{onChange:this.handleChange,name:"password",className:"floating-label-field",placeholder:"Password",type:"password"}),s.a.createElement("label",{htmlFor:"password",className:"floating-label"},"Password")),s.a.createElement("button",{onClick:this.handleSubmit,className:"button button-large",type:"submit"},"Login")))}}]),t}(s.a.Component),g=a(26),N=a.n(g),v=a(27),y=a.n(v),C=a(28),S=a.n(C),O=a(8),w=function(e){return s.a.createElement("div",{className:"nav dropdown expand"},"menu"===e.dest?s.a.createElement("div",null,s.a.createElement("img",{className:"menu",src:N.a,alt:""}),s.a.createElement("div",{className:"dropdown-content"},s.a.createElement("button",{onClick:e.logout},"LOGOUT"))):s.a.createElement(O.b,{to:e.dest},s.a.createElement("img",{className:"menu",src:"white"===e.color?y.a:S.a,alt:""})),e.edit?s.a.createElement(O.b,{to:e.edit},s.a.createElement("span",{className:"item-name light-font"},"edit")):null)},x=function(e){return s.a.createElement("div",{className:"container attendance-grid"},s.a.createElement("div",{className:"attendance-head expand"},s.a.createElement(w,{dest:"/classinfo",path:"/mark",edit:""}),s.a.createElement("p",{className:"title"},"Attendance"),s.a.createElement("p",{className:"item-name"},"Highlight the members who are present")),s.a.createElement("div",{className:"item-list expand"},s.a.createElement("ul",null,e.members?e.members.map((function(t){var a="";return a=t.first_name?t.first_name.substring(0,1)+t.last_name.substring(0,1):"AA",s.a.createElement("li",{key:t.id,className:e.active.includes(t.id)?"selected list-item attendance":"list-item attendance",onClick:e.toggleAttendance.bind(void 0,t.id)},s.a.createElement("div",{className:"list-item-initials"},s.a.createElement("span",null,a)),s.a.createElement("span",{className:"item-name"},t.first_name," ",t.last_name),s.a.createElement("span",{className:"item-info"},t.address))})):null)),s.a.createElement("button",{className:"next button",onClick:e.nextStep},"NEXT"))},_=function(e){return s.a.createElement("div",{className:"container attendance-grid"},s.a.createElement("div",{className:"attendance-head expand"},s.a.createElement(w,{dest:"/classinfo",edit:""}),s.a.createElement("p",{className:"title"},"Missing"),s.a.createElement("p",{className:"item-name"},"Highlight the members who are accounted for")),s.a.createElement("div",{className:"expand"},s.a.createElement("ul",null,e.members.filter((function(e){return"present"!==e.status})).map((function(t){var a="";return a=t.first_name?t.first_name.substring(0,1)+t.last_name.substring(0,1):"AA",s.a.createElement("li",{key:t.id,className:e.active.includes(t.id)?"missing-selected list-item missing":"list-item missing",onClick:e.toggleMssnAccounted.bind(void 0,t.id)},s.a.createElement("div",{className:"list-item-initials"},s.a.createElement("span",null,a)),s.a.createElement("span",{className:"item-name"},t.first_name," ",t.last_name),s.a.createElement("span",{className:"item-info"},t.address))})))),s.a.createElement("button",{className:"prev button",onClick:e.prevStep},"PREV"),s.a.createElement("button",{className:"next button",onClick:e.nextStep},"NEXT"))},j=function(e){return s.a.createElement("div",{className:"container attendance-grid"},s.a.createElement("div",{className:"attendance-head expand"},s.a.createElement(w,{dest:"/classinfo",edit:""}),s.a.createElement("p",{className:"title"},"Study"),s.a.createElement("p",{className:"item-name"},"Highlight the members who studied")),s.a.createElement("div",{className:"expand"},s.a.createElement("ul",null,e.members.filter((function(e){return"present"===e.status})).map((function(t){var a="";return a=t.first_name?t.first_name.substring(0,1)+t.last_name.substring(0,1):"AA",s.a.createElement("li",{key:t.id,className:e.active.includes(t.id)?"study-selected list-item study":"list-item study",onClick:e.toggleStudied.bind(void 0,t.id)},s.a.createElement("div",{className:"list-item-initials"},s.a.createElement("span",null,a)),s.a.createElement("span",{className:"item-name"},t.first_name," ",t.last_name),s.a.createElement("span",{className:"item-info"},t.address))})))),s.a.createElement("button",{className:"prev button",onClick:e.prevStep},"prev"),s.a.createElement("button",{className:"next button",onClick:e.done},"done"))},k=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={step:1,attn:[],mssn:[],stdy:[],overwrite:!1,members:[{id:"1",name:"Andrew Aardvark",address:"Vernon's Estate",status:"absent",studied:0},{id:"2",name:"Brandon Marks",address:"Vernon's Estate",status:"absent",studied:0},{id:"3",name:"Charles King",address:"Vernon's Estate",status:"absent",studied:0}]},a.loadData=function(){fetch("/class/members",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){e.status="absent",e.studied=0})),a.setState({members:e})}))},a.componentDidMount=function(){fetch("/class/checkattendance").then((function(e){return e.json()})).then((function(e){e.length>0?alert("records already exist for today"):a.loadData()}))},a.toggleAttendance=function(e){var t=a.state.members,n=a.state.attn;n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),t.forEach((function(t){t.id===e&&("absent"===t.status?t.status="present":t.status="absent")})),a.setState({members:t,attn:n})},a.toggleMssnAccounted=function(e){var t=a.state.members,n=a.state.mssn;n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),t.forEach((function(t){t.id===e&&("absent"===t.status?t.status="missing_accounted":t.status="absent")})),a.setState({members:t,mssn:n})},a.toggleStudied=function(e){var t=a.state.members,n=a.state.stdy;n.includes(e)?n.splice(n.indexOf(e),1):n.push(e),t.forEach((function(t){t.id===e&&(0===t.studied?t.studied=1:t.studied=0)})),a.setState({members:t,stdy:n})},a.handleSubmit=function(e){e.preventDefault(),fetch("/class/addrecords",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({members:a.state.members,overwrite:a.state.overwrite}),credentials:"include"}).then((function(){a.props.history.push("/classinfo"),console.log("sent")})),console.log("stuff")},a.nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){switch(this.state.step){case 1:return s.a.createElement(x,{active:this.state.attn,members:this.state.members,toggleAttendance:this.toggleAttendance,nextStep:this.nextStep});case 2:return s.a.createElement(_,{active:this.state.mssn,toggleMssnAccounted:this.toggleMssnAccounted,members:this.state.members,nextStep:this.nextStep,prevStep:this.prevStep});case 3:return s.a.createElement(j,{active:this.state.stdy,done:this.handleSubmit,toggleStudied:this.toggleStudied,members:this.state.members,nextStep:this.nextStep,prevStep:this.prevStep});default:return s.a.createElement(x,{nextStep:this.nextStep})}}}]),t}(s.a.Component),A=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){""===a.state.first_name||""===a.state.last_name||""===a.state.address||""===a.state.phone_home?a.setState({error:!0}):fetch("/members/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member:a.state}),credentials:"include"}).then((function(e){return e.text()})).then((function(e){console.log(e),a.props.history.push("/classinfo")})),e.preventDefault()},a.state={first_name:"",last_name:"",address:"",phone_home:"",email:"",error:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container form-page"},s.a.createElement(w,{dest:"/classinfo",edit:""}),s.a.createElement("p",{className:"title"},"Add a new member"),s.a.createElement("div",{className:"letter"},s.a.createElement("span",null,"N")),this.state.error?s.a.createElement("p",{className:"error"},"Please fill out the required fields."):null,s.a.createElement("form",{className:"form-grid"},s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{name:"first_name",onChange:this.handleChange,placeholder:"First Name",type:"text",className:"floating-label-field"}),s.a.createElement("label",{htmlFor:"first_name",className:"floating-label"},"First Name")),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{name:"last_name",onChange:this.handleChange,placeholder:"Last Name",type:"text",className:"floating-label-field"}),s.a.createElement("label",{htmlFor:"last_name",className:"floating-label"},"Last Name")),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{name:"address",onChange:this.handleChange,placeholder:"Address",type:"text",className:"floating-label-field"}),s.a.createElement("label",{htmlFor:"address",className:"floating-label"},"Address")),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{name:"phone_home",onChange:this.handleChange,placeholder:"phone_home",type:"text",className:"floating-label-field"}),s.a.createElement("label",{htmlFor:"phone_home",className:"floating-label"},"Phone")),s.a.createElement("div",{className:"floating-label-wrapper"},s.a.createElement("input",{name:"email",onChange:this.handleChange,placeholder:"Email",type:"email",className:"floating-label-field"}),s.a.createElement("label",{htmlFor:"email",className:"floating-label"},"Email")),s.a.createElement(O.b,{to:"/addexisting"},s.a.createElement("button",{className:"button button-large"},"add existing member")),s.a.createElement("button",{className:"button button-large",onClick:this.handleSubmit},"submit")))}}]),t}(s.a.Component),T=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),console.log(a.state.active.length),a.state.active.length<=0?alert("Please select at least one memeber"):fetch("/class/membership",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({members:a.state.active}),credentials:"include"}).then((function(){a.props.history.push("/classinfo")}))},a.handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.toggleAdd=function(e){var t=a.state.active;t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),a.setState({active:t})},a.componentDidMount=function(){fetch("/class/noclass",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){a.setState({members:e})}))},a.state={members:[],active:[],filter:"",error:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.filter;return s.a.createElement("div",{className:"container attendance-grid"},s.a.createElement("div",{className:"attendance-head add-existing expand"},s.a.createElement(w,{dest:"/classinfo"}),s.a.createElement("p",{className:"title"},"Existing members"),s.a.createElement("p",{className:"item-name"},"Highlight members to be added"),s.a.createElement("input",{type:"text",name:"filter",placeholder:"Search...",className:"text-input",onChange:this.handleChange})),s.a.createElement("div",{className:"item-list expand"},s.a.createElement("ul",null,this.state.members?this.state.members.filter((function(e){return e.first_name.toLowerCase().includes(t.toLowerCase())||e.last_name.toLowerCase().includes(t.toLowerCase())||e.address.toLowerCase().includes(t.toLowerCase())?e:null})).map((function(t){var a="";return a=t.first_name?t.first_name.toLowerCase().substring(0,1)+t.last_name.toLowerCase().substring(0,1):"AA",s.a.createElement("li",{key:t.id,className:e.state.active.includes(t.id)?"selected list-item attendance":"list-item attendance",onClick:e.toggleAdd.bind(e,t.id)},s.a.createElement("div",{className:"list-item-initials"},s.a.createElement("span",null,a)),s.a.createElement("span",{className:"item-name"},t.first_name," ",t.last_name),s.a.createElement("span",{className:"item-info"},t.address))})):null)),s.a.createElement("button",{className:"button button-large",onClick:this.handleSubmit},"submit"))}}]),t}(s.a.Component),M=a(16),L=a.n(M),D=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).logout=function(){fetch("/auth/logout").then((function(){a.props.history.push("/")}))},a.componentDidMount=function(){fetch("/class/myclassinfo",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).then((function(e){a.setState({classinfo:e[0]})}))},a.handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.state={classinfo:{name:"",division:"",tname:"",sname:"",cname:"",members:[]},filter:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.classinfo,a=e.filter;return s.a.createElement("div",{className:"container profile-page"},s.a.createElement("div",{className:" page-head class-info"},s.a.createElement(w,{dest:"menu",logout:this.logout}),s.a.createElement("div",{className:"letter expand"},s.a.createElement("span",null,t.name.substring(0,1).toUpperCase())),s.a.createElement("div",{className:"expand"},s.a.createElement("p",{className:"title"},"Class ",t.name),s.a.createElement("p",{className:"item-info"},t.division," division |"," ",s.a.createElement("span",null,t.members.length)," members")),s.a.createElement("div",{className:"leader"},s.a.createElement("p",{className:"item-name"},t.tname),s.a.createElement("p",{className:"item-info"},"Teacher")),s.a.createElement("div",{className:"leader"},s.a.createElement("p",{className:"item-name"},t.sname),s.a.createElement("p",{className:"item-info"},"Secretary")),s.a.createElement("div",{className:"leader"},s.a.createElement("p",{className:"item-name"},t.cname),s.a.createElement("p",{className:"item-info"},"Care Coordinator")),s.a.createElement(O.b,{to:"/addmember"},s.a.createElement("button",{className:"button-inverse button-small"},"add member")),s.a.createElement(O.b,{to:"/report"},s.a.createElement("button",{className:"button-inverse button-small"},"report")),s.a.createElement(O.b,{to:"/mark"},s.a.createElement("button",{className:"button-inverse button-small"},"attendance")),s.a.createElement("span",{className:"splash"},"class")),s.a.createElement("div",{className:"item-list"},s.a.createElement("p",{className:"sub-title"},"Members"),s.a.createElement("input",{type:"text",name:"filter",placeholder:"Search...",onChange:this.handleChange}),t.members.length>0?s.a.createElement("ul",null,t.members.filter((function(e){return e.first_name.toLowerCase().includes(a.toLowerCase())||e.last_name.toLowerCase().includes(a.toLowerCase())||e.address.toLowerCase().includes(a.toLowerCase())?e:null})).map((function(e){var t="";return t=e.first_name?e.first_name.substring(0,1)+e.last_name.substring(0,1):"AA",s.a.createElement(O.b,{key:e.id,to:"/member/".concat(e.id)},s.a.createElement("li",{className:"list-item"},s.a.createElement("div",{className:"list-item-initials"},s.a.createElement("span",null,t.toLowerCase())),s.a.createElement("span",{className:"list-item-name"},e.first_name," ",e.last_name),s.a.createElement("span",{className:"list-item-info"},e.address)))}))):s.a.createElement("div",{className:"empty-list"},s.a.createElement("img",{src:L.a,alt:"empty list"}),s.a.createElement("p",null,"No members..."))))}}]),t}(s.a.Component),P=function(e){e.handleClose;var t=e.show,a=e.children,n=t?"modal display-block":"modal display-none";return s.a.createElement("div",{className:n},s.a.createElement("section",{className:"modal-main"},a))},F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).showModal=function(){a.setState({show:!0})},a.hideModal=function(){a.setState({show:!1})},a.componentDidMount=function(){fetch("/members/read",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_id:a.props.match.params.id}),credentials:"include"}).then((function(e){return e.json()})).then((function(e){a.setState({memberinfo:e[0]})}))},a.remove=function(){fetch("/members/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_id:a.props.match.params.id}),credentials:"include"}).then((function(){a.props.history.push("/classinfo")}))},a.getMonth=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return"Month"}},a.getDay=function(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Day"}},a.state={memberinfo:{first_name:"Andrew",last_name:"Aardvark",address:"Vernon's Estate",phone_home:"(268)000-0000",email:"aardark@nothing.com",attendance:[]},show:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.memberinfo;return s.a.createElement("div",{className:"member container profile-page"},s.a.createElement("div",{className:"page-head"},s.a.createElement(w,{dest:"/classinfo",color:"white"}),s.a.createElement("div",{className:"letter expand"},s.a.createElement("span",null,t.first_name.substring(0,1))),s.a.createElement("p",{className:"item-name expand"},t.first_name," ",t.last_name),s.a.createElement("p",{className:"item-info expand"},t.address,s.a.createElement("br",null),"Phone: (268)",t.phone_home," Email: ",t.email),s.a.createElement("span",{className:"splash"},"member")),s.a.createElement("div",{className:"item-list"},s.a.createElement("p",{className:"sub-title"},"Attendance"),t.attendance.length>0?s.a.createElement("ul",{className:"record-list"},t.attendance.map((function(t){var a=new Date(t.date),n=e.getDay(a.getDay()),l=e.getMonth(a.getMonth()),r=a.getFullYear();return s.a.createElement("li",{key:t.id,className:1===t.study.data[0]?"list-item study-selected":"list-item"},s.a.createElement("span",{className:"date expand"},n," ",a.getDate(),", ",l," ",r),s.a.createElement("span",{className:"did-study expand"},t.status))}))):s.a.createElement("div",{className:"empty-list"},s.a.createElement("img",{src:L.a,alt:"empty list"}),s.a.createElement("p",null,"No records..."))),s.a.createElement("button",{className:"button button-large error",onClick:this.showModal},"REMOVE"),s.a.createElement(P,{show:this.state.show},s.a.createElement("div",{className:"modal-grid"},s.a.createElement("p",{className:"expand"},"Are you sure you want to remove this member from this class?"),s.a.createElement("button",{className:"button button-small",onClick:this.remove},"YES"),s.a.createElement("button",{className:"button button-small",onClick:this.hideModal},"NO"))))}}]),t}(s.a.Component),J=a(13),V=new(a(31).a),H=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return s.a.createElement(J.b,Object.assign({},a,{render:function(e){return V.get("blitz")?s.a.createElement(J.a,{to:{pathname:"/classinfo",state:{from:e.location}}}):s.a.createElement(t,e)}}))},U=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return s.a.createElement(J.b,Object.assign({},a,{render:function(e){return V.get("blitz")?s.a.createElement(t,e):s.a.createElement(J.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},z=function(){return s.a.createElement("p",null,"There doesn't seem to be anything here...")};var B=function(){return s.a.createElement(O.a,null,s.a.createElement(J.d,null,s.a.createElement(H,{path:"/login",component:E}),s.a.createElement(U,{exact:!0,path:"/",component:D}),s.a.createElement(U,{path:"/classinfo",component:D}),s.a.createElement(U,{path:"/mark",component:k}),s.a.createElement(U,{path:"/member/:id",component:F}),s.a.createElement(U,{path:"/addmember",component:A}),s.a.createElement(U,{path:"/addexisting",component:T}),s.a.createElement(U,{component:z})))};r.a.render(s.a.createElement(B,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.762417cd.chunk.js.map